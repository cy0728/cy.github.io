<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>WebPack | 小逸的博客</title><meta name="description" content="1.Webpack1.1 引入1.1.1 网页中常见的静态资源  JS ： .js  .jsx  .coffee  .ts（TypeScript  类 C# 语言）   CSS ： .css  .less   .sass  .scss   Images ：  .jpg   .png   .gif   .bmp   .svg   字体文件（Fonts）： .svg   .ttf   .eot   ."><meta name="author" content="小逸"><meta name="copyright" content="小逸"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/logo.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="WebPack"><meta name="twitter:description" content="1.Webpack1.1 引入1.1.1 网页中常见的静态资源  JS ： .js  .jsx  .coffee  .ts（TypeScript  类 C# 语言）   CSS ： .css  .less   .sass  .scss   Images ：  .jpg   .png   .gif   .bmp   .svg   字体文件（Fonts）： .svg   .ttf   .eot   ."><meta name="twitter:image" content="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1210275919,362704680&amp;fm=26&amp;gp=0.jpg"><meta property="og:type" content="article"><meta property="og:title" content="WebPack"><meta property="og:url" content="http://yoursite.com/2019/08/15/WebPack/"><meta property="og:site_name" content="小逸的博客"><meta property="og:description" content="1.Webpack1.1 引入1.1.1 网页中常见的静态资源  JS ： .js  .jsx  .coffee  .ts（TypeScript  类 C# 语言）   CSS ： .css  .less   .sass  .scss   Images ：  .jpg   .png   .gif   .bmp   .svg   字体文件（Fonts）： .svg   .ttf   .eot   ."><meta property="og:image" content="https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1210275919,362704680&amp;fm=26&amp;gp=0.jpg"><meta property="article:published_time" content="2019-08-14T16:00:00.000Z"><meta property="article:modified_time" content="2020-04-28T02:44:16.635Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="http://yoursite.com/2019/08/15/WebPack/"><link rel="prev" title="Vue" href="http://yoursite.com/2019/09/06/Vue/"><link rel="next" title="CSS3" href="http://yoursite.com/2019/07/26/CSS3/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="小逸的博客" type="application/atom+xml">
</head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="/img/%E5%A4%B4%E5%83%8F.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">15</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Webpack"><span class="toc-number">1.</span> <span class="toc-text">1.Webpack</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-引入"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 引入</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-1-网页中常见的静态资源"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1.1 网页中常见的静态资源</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-2-静态资源带来的问题"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.1.2 静态资源带来的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-3-如何解决上述两个问题"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.1.3 如何解决上述两个问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-4-完美实现上述问题的2种解决方案"><span class="toc-number">1.1.4.</span> <span class="toc-text">1.1.4 完美实现上述问题的2种解决方案</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-gulp介绍"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 gulp介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-1-gulp的核心方法"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.2.1 gulp的核心方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-2-安装gulp使用"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2.2 安装gulp使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-3-对js进行压缩混淆和合并"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.2.3 对js进行压缩混淆和合并</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-4-对css进行压缩操作"><span class="toc-number">1.2.4.</span> <span class="toc-text">1.2.4 对css进行压缩操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-5-对html进行压缩"><span class="toc-number">1.2.5.</span> <span class="toc-text">1.2.5 对html进行压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-6-gulp对图片压缩"><span class="toc-number">1.2.6.</span> <span class="toc-text">1.2.6 gulp对图片压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-7-gulp-watch"><span class="toc-number">1.2.7.</span> <span class="toc-text">1.2.7 gulp.watch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-8-gulp解决浏览器缓存问题"><span class="toc-number">1.2.8.</span> <span class="toc-text">1.2.8 gulp解决浏览器缓存问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-webpack介绍"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 webpack介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-Gulp和webpack对比"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 Gulp和webpack对比</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-gulp"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">a) gulp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-webpack"><span class="toc-number">1.4.0.2.</span> <span class="toc-text">b) webpack</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-webpack的使用"><span class="toc-number">1.5.</span> <span class="toc-text">1.5 webpack的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6-webpack打包构建"><span class="toc-number">1.6.</span> <span class="toc-text">1.6 webpack打包构建</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-1-webpack-列表隔行变色案例"><span class="toc-number">1.6.1.</span> <span class="toc-text">1.6.1 webpack 列表隔行变色案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-2-webpack配置文件使用"><span class="toc-number">1.6.2.</span> <span class="toc-text">1.6.2 webpack配置文件使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-3-webpack实时打包构建"><span class="toc-number">1.6.3.</span> <span class="toc-text">1.6.3 webpack实时打包构建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-4-使用配置文件生成参数-了解"><span class="toc-number">1.6.4.</span> <span class="toc-text">1.6.4 使用配置文件生成参数(了解)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-5-html-webpack-plugin插件配置启动页面"><span class="toc-number">1.6.5.</span> <span class="toc-text">1.6.5 html-webpack-plugin插件配置启动页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-6-使用webpack打包css文件"><span class="toc-number">1.6.6.</span> <span class="toc-text">1.6.6 使用webpack打包css文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-7-使用webpack打包less文件"><span class="toc-number">1.6.7.</span> <span class="toc-text">1.6.7 使用webpack打包less文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-8-使用webpack打包sass文件"><span class="toc-number">1.6.8.</span> <span class="toc-text">1.6.8 使用webpack打包sass文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-9-使用webpack处理css中的路径"><span class="toc-number">1.6.9.</span> <span class="toc-text">1.6.9 使用webpack处理css中的路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-10-使用webpack处理字体图标"><span class="toc-number">1.6.10.</span> <span class="toc-text">1.6.10 使用webpack处理字体图标</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-11-webpack中babel的配置"><span class="toc-number">1.6.11.</span> <span class="toc-text">1.6.11 webpack中babel的配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-6-12-所有配置总结"><span class="toc-number">1.6.12.</span> <span class="toc-text">1.6.12 所有配置总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-7-相关文章"><span class="toc-number">1.7.</span> <span class="toc-text">1.7 相关文章</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Vue结合webpack的使用"><span class="toc-number">2.</span> <span class="toc-text">2.Vue结合webpack的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-基本使用"><span class="toc-number">2.1.</span> <span class="toc-text">2.1 基本使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-使用-vue文件的方式生成组件"><span class="toc-number">2.2.</span> <span class="toc-text">2.2 使用.vue文件的方式生成组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-render渲染组件"><span class="toc-number">2.3.</span> <span class="toc-text">2.3 render渲染组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-vue组件中的数据"><span class="toc-number">2.4.</span> <span class="toc-text">2.4 .vue组件中的数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-模块的导出"><span class="toc-number">2.4.1.</span> <span class="toc-text">2.4.1 模块的导出</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2-vue中的数据导出"><span class="toc-number">2.4.2.</span> <span class="toc-text">2.4.2 .vue中的数据导出</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-vue-router使用"><span class="toc-number">2.5.</span> <span class="toc-text">2.5 vue-router使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-1-基本使用"><span class="toc-number">2.5.1.</span> <span class="toc-text">2.5.1 基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-2-vue-router和render结合使用"><span class="toc-number">2.5.2.</span> <span class="toc-text">2.5.2 vue-router和render结合使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-3-路由嵌套"><span class="toc-number">2.5.3.</span> <span class="toc-text">2.5.3 路由嵌套</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-组件样式"><span class="toc-number">2.6.</span> <span class="toc-text">2.6 组件样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-抽离路由为单独的模块"><span class="toc-number">2.7.</span> <span class="toc-text">2.7 抽离路由为单独的模块</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-vuex介绍"><span class="toc-number">3.</span> <span class="toc-text">3.vuex介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-vuex概念"><span class="toc-number">3.1.</span> <span class="toc-text">3.1 vuex概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-vuex的基本使用"><span class="toc-number">3.2.</span> <span class="toc-text">3.2 vuex的基本使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-vuex异步修改状态"><span class="toc-number">3.3.</span> <span class="toc-text">3.3 vuex异步修改状态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-vuex的模块"><span class="toc-number">3.4.</span> <span class="toc-text">3.4 vuex的模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-刷新网页时vuex缓存"><span class="toc-number">3.5.</span> <span class="toc-text">3.5 刷新网页时vuex缓存</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-vue中UI框架"><span class="toc-number">4.</span> <span class="toc-text">4.vue中UI框架</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-常用框架介绍"><span class="toc-number">4.1.</span> <span class="toc-text">4.1 常用框架介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-MintUI-框架介绍"><span class="toc-number">4.2.</span> <span class="toc-text">4.2 MintUI 框架介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-css组件使用"><span class="toc-number">4.2.1.</span> <span class="toc-text">4.2.1 css组件使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-js组件使用-toast"><span class="toc-number">4.2.2.</span> <span class="toc-text">4.2.2 js组件使用-toast</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-3-按需导入组件"><span class="toc-number">4.2.3.</span> <span class="toc-text">4.2.3 按需导入组件</span></a></li></ol></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1210275919,362704680&amp;fm=26&amp;gp=0.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">小逸的博客</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友情链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 列表</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">WebPack</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2019-08-15 00:00:00"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2019-08-15</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-04-28 10:44:16"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-04-28</span></time></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="1-Webpack"><a href="#1-Webpack" class="headerlink" title="1.Webpack"></a>1.Webpack</h1><h2 id="1-1-引入"><a href="#1-1-引入" class="headerlink" title="1.1 引入"></a>1.1 引入</h2><h3 id="1-1-1-网页中常见的静态资源"><a href="#1-1-1-网页中常见的静态资源" class="headerlink" title="1.1.1 网页中常见的静态资源"></a>1.1.1 网页中常见的静态资源</h3><blockquote>
<ul>
<li>JS ： .js  .jsx  .coffee  .ts（TypeScript  类 C# 语言）</li>
</ul>
<ul>
<li>CSS ： .css  .less   .sass  .scss</li>
</ul>
<ul>
<li>Images ：  .jpg   .png   .gif   .bmp   .svg</li>
</ul>
<ul>
<li>字体文件（Fonts）： .svg   .ttf   .eot   .woff   .woff2</li>
</ul>
<ul>
<li>模板文件 ： .ejs   .jade  .vue【这是在webpack中定义组件的方式，推荐这么用】</li>
</ul>
</blockquote>
<h3 id="1-1-2-静态资源带来的问题"><a href="#1-1-2-静态资源带来的问题" class="headerlink" title="1.1.2 静态资源带来的问题"></a>1.1.2 静态资源带来的问题</h3><ol>
<li>网页加载速度慢， 因为我们要发起很多的二次请求；</li>
<li>要处理错综复杂的依赖关系</li>
</ol>
<h3 id="1-1-3-如何解决上述两个问题"><a href="#1-1-3-如何解决上述两个问题" class="headerlink" title="1.1.3 如何解决上述两个问题"></a>1.1.3 如何解决上述两个问题</h3><ol>
<li>合并、压缩、精灵图、图片的Base64编码</li>
<li>可以使用之前学过的requireJS、也可以使用webpack可以解决各个包之间的复杂依赖关系；</li>
</ol>
<h3 id="1-1-4-完美实现上述问题的2种解决方案"><a href="#1-1-4-完美实现上述问题的2种解决方案" class="headerlink" title="1.1.4 完美实现上述问题的2种解决方案"></a>1.1.4 完美实现上述问题的2种解决方案</h3><ol>
<li>使用Gulp， 是基于 task 任务的，是前端构建工具；</li>
<li>使用browserify/Webpack， 是预编译的模块化方案；</li>
</ol>
<h2 id="1-2-gulp介绍"><a href="#1-2-gulp介绍" class="headerlink" title="1.2 gulp介绍"></a>1.2 gulp介绍</h2><p>gulp是基于Node.js的前端自动化构建<strong>工具</strong>，能自动化地完成 JavaScript/sass/html/image/css 等文件的的测试、检查、合并、压缩混淆、格式化、浏览器自动刷新、部署文件生成等操作，同时可以对文件进行监听，如果文件有改动，可以自动处理生成新的文件。</p>
<p>所以gulp解决了开发效率(修改代码后自动更新页面)、资源整合(代码的压缩合并)、代码质量(代码的检查 自动化测试)、代码转换(es6–&gt;es5)等问题</p>
<p><a href="http://www.gulpjs.com" target="_blank" rel="noopener">官网</a><br><a href="http://www.gulpjs.com.cn" target="_blank" rel="noopener">中文网</a></p>
<h3 id="1-2-1-gulp的核心方法"><a href="#1-2-1-gulp的核心方法" class="headerlink" title="1.2.1 gulp的核心方法"></a>1.2.1 gulp的核心方法</h3><ul>
<li>gulp.task(‘任务名’,function(){})     // 创建任务。</li>
<li>gulp.src(‘./*.css’)                            // 指定想要处理的文件</li>
<li>gulp.dest()                                      // 指定最终处理后的文件的存放路径</li>
<li>gulp.watch()                                   // 自动的监视文件的变化，然后执行相应任务。</li>
<li>gulp.run(‘任务名’)                          // 直接执行相应的任务。</li>
</ul>
<h3 id="1-2-2-安装gulp使用"><a href="#1-2-2-安装gulp使用" class="headerlink" title="1.2.2 安装gulp使用"></a>1.2.2 安装gulp使用</h3><ul>
<li>1.通过npm安装:<code>npm install gulp-cli -g</code>    安装全局的命令行，可以在终端中使用gulp相关命令</li>
</ul>
<ul>
<li>2.在当前项目中也要安装gulp: <code>npm install gulp --save</code></li>
<li>3.还需要在当前项目中新建一个文件: gulpfile.js</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp =  <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建任务</span></span><br><span class="line"><span class="comment">// 第一个参数: 任务名</span></span><br><span class="line"><span class="comment">// 第二个参数: 回调函数,当我们执行任务时就会执行这个函数</span></span><br><span class="line">gulp.task(<span class="string">'test'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">123</span>)</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'src/js2/*.js'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//执行任务: gulp 任务名</span></span><br><span class="line">gulp test</span><br></pre></td></tr></table></figure>

<h3 id="1-2-3-对js进行压缩混淆和合并"><a href="#1-2-3-对js进行压缩混淆和合并" class="headerlink" title="1.2.3 对js进行压缩混淆和合并"></a>1.2.3 对js进行压缩混淆和合并</h3><ul>
<li><code>npm install gulp-uglify --save</code>     压缩混淆</li>
</ul>
<ul>
<li><code>npm install gulp-concat --save</code>   合并</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">'gulp-uglify'</span>);</span><br><span class="line"><span class="keyword">var</span> concat = <span class="built_in">require</span>(<span class="string">'gulp-concat'</span>);</span><br><span class="line">gulp.task(<span class="string">'script'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 1.要匹配到要处理的文件</span></span><br><span class="line">    <span class="comment">// 指定指定的文件:参数是匹配的规则</span></span><br><span class="line">    <span class="comment">// 参数也可以是数组，数组中的元素就是匹配的规则</span></span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'src/js2/*.js'</span>)</span><br><span class="line">   		 <span class="comment">// concat 的参数是合并之后的文件名字</span></span><br><span class="line">        .pipe(concat(<span class="string">'index.js'</span>))</span><br><span class="line">    	<span class="comment">// 压缩混淆</span></span><br><span class="line">        .pipe(uglify())</span><br><span class="line">    	<span class="comment">// dest方法参数，指定输出文件的路径</span></span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist/js2'</span>))</span><br><span class="line">&#125;)</span><br><span class="line">gulp.run(<span class="string">'script'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="1-2-4-对css进行压缩操作"><a href="#1-2-4-对css进行压缩操作" class="headerlink" title="1.2.4 对css进行压缩操作"></a>1.2.4 对css进行压缩操作</h3><ul>
<li><code>npm install gulp-cssnano --save</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> concat = <span class="built_in">require</span>(<span class="string">'gulp-concat'</span>);</span><br><span class="line"><span class="keyword">var</span> cssnano = <span class="built_in">require</span>(<span class="string">'gulp-cssnano'</span>);</span><br><span class="line"><span class="comment">// 新建一个任务，对css进行处理</span></span><br><span class="line">gulp.task(<span class="string">'style'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 对项目中的2个css文件进行合并，压缩操作</span></span><br><span class="line">    <span class="comment">// 1.匹配到要处理的文件</span></span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'src/css/*.css'</span>)</span><br><span class="line">    	<span class="comment">// 2.合并文件</span></span><br><span class="line">        .pipe(concat(<span class="string">'index.css'</span>))</span><br><span class="line">   		 <span class="comment">// 3.压缩操作</span></span><br><span class="line">        .pipe(cssnano())</span><br><span class="line">   		 <span class="comment">// 4.输出到指定目录</span></span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist/css'</span>))</span><br><span class="line">&#125;)</span><br><span class="line">gulp.run(<span class="string">'style'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="1-2-5-对html进行压缩"><a href="#1-2-5-对html进行压缩" class="headerlink" title="1.2.5 对html进行压缩"></a>1.2.5 对html进行压缩</h3><ul>
<li><code>npm install gulp-htmlmin --save</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">'gulp-htmlmin'</span>);</span><br><span class="line"><span class="comment">// 新建一个任务，对html进行压缩</span></span><br><span class="line">gulp.task(<span class="string">'html'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 1.匹配到要处理的文件</span></span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'src/index.html'</span>)</span><br><span class="line">    	<span class="comment">// 2.压缩操作</span></span><br><span class="line">        .pipe(htmlmin(&#123;<span class="attr">collapseWhitespace</span>:<span class="literal">true</span>&#125;))</span><br><span class="line">   		 <span class="comment">// 3.指定输出目录</span></span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>))</span><br><span class="line">&#125;)</span><br><span class="line">gulp.run(<span class="string">'html'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="1-2-6-gulp对图片压缩"><a href="#1-2-6-gulp对图片压缩" class="headerlink" title="1.2.6 gulp对图片压缩"></a>1.2.6 gulp对图片压缩</h3><ul>
<li><code>npm install gulp-imagemin</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gulp.task(<span class="string">'image'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'./images/*.*'</span>)</span><br><span class="line">        .pipe(imageMin(&#123;<span class="attr">progressive</span>: <span class="literal">true</span>&#125;))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'./dist/images'</span>))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="1-2-7-gulp-watch"><a href="#1-2-7-gulp-watch" class="headerlink" title="1.2.7 gulp.watch"></a>1.2.7 gulp.watch</h3><ul>
<li>监视文件的变化，然后执行相应的任务</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// gulp.watch 监视文件变化，执行相应任务</span></span><br><span class="line">gulp.task(<span class="string">'mywatch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 1.监视js文件的变化，然后执行script任务</span></span><br><span class="line">    <span class="comment">// 第一个参数：要监视的文件的规则</span></span><br><span class="line">    <span class="comment">// 第二个参数：是要执行的任务</span></span><br><span class="line">    gulp.watch(<span class="string">"src/js2/*.js"</span>,gulp.series(<span class="string">"script"</span>))</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//然后使用gulp mywatch启动监听，然后一旦源文件修改了，会立刻同步编译新的目标文件</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-8-gulp解决浏览器缓存问题"><a href="#1-2-8-gulp解决浏览器缓存问题" class="headerlink" title="1.2.8 gulp解决浏览器缓存问题"></a>1.2.8 gulp解决浏览器缓存问题</h3><ul>
<li><code>npm install gulp-rev  gulp-rev-rewrite</code> </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> rev = <span class="built_in">require</span>(<span class="string">'gulp-rev'</span>);</span><br><span class="line"><span class="keyword">var</span> revRewrite = <span class="built_in">require</span>(<span class="string">'gulp-rev-rewrite'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//给js文件重命名 并且输出到dist目录下</span></span><br><span class="line">gulp.task(<span class="string">'js'</span>, () =&gt;</span><br><span class="line">    gulp.src([<span class="string">'./js/c.js'</span>])</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>)) <span class="comment">// 将源文件拷贝到打包目录</span></span><br><span class="line">        .pipe(rev())  </span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>)) <span class="comment">// 将生成的hash文件添加到打包目录</span></span><br><span class="line">        .pipe(rev.manifest(<span class="string">'js-rev.json'</span>))</span><br><span class="line">        .pipe(gulp.dest(<span class="string">'dist'</span>)) <span class="comment">// 将map映射文件添加到打包目录</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">//将html中的js文件用重名后的名字替换</span></span><br><span class="line">gulp.task(<span class="string">'html2'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> jsManifest = gulp.src(<span class="string">'dist/js-rev.json'</span>); <span class="comment">//获取js映射文件</span></span><br><span class="line">    <span class="keyword">return</span> gulp.src(<span class="string">'./html/a.html'</span>)</span><br><span class="line">      .pipe(revRewrite(&#123;<span class="attr">manifest</span>: jsManifest&#125;)) <span class="comment">// 把引用的js替换成有版本号的名字</span></span><br><span class="line">      .pipe(gulp.dest(<span class="string">'dist'</span>))</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//当c.js文件发生变化之后，会重新执行js和html2的任务</span></span><br><span class="line">gulp.task(<span class="string">'mywatch'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// 1.监视js文件的变化，然后执行script任务</span></span><br><span class="line">    <span class="comment">// 第一个参数：要监视的文件的规则</span></span><br><span class="line">    <span class="comment">// 第二个参数：是要执行的任务</span></span><br><span class="line">    <span class="keyword">return</span> gulp.watch(<span class="string">"./js/c.js"</span>,gulp.series([<span class="string">'js'</span>,<span class="string">'html2'</span>]))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="1-3-webpack介绍"><a href="#1-3-webpack介绍" class="headerlink" title="1.3 webpack介绍"></a>1.3 webpack介绍</h2><blockquote>
<p>webpack 是前端的一个项目构建工具，它是基于 Node.js 开发出来的一个前端工具；</p>
</blockquote>
<ul>
<li>借助于webpack这个前端自动化构建工具，可以完美实现资源的合并、打包、压缩、混淆等诸多功能。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 在没有使用webpack之前：</span><br><span class="line">举个例子：index.html里面有一大堆的css和js文件，如a.js   b.js   c.js  d.js等等</span><br><span class="line">（<span class="number">1</span>）a.js要用到b.js里面的一个函数，则a.js要放在b.js后面</span><br><span class="line">（<span class="number">2</span>）c.js要用到a.js里面的一个函数，则c.js要放在a.js后面</span><br><span class="line">（<span class="number">3</span>）b.js又要用到d.js文件里面的函数，则b.js就要放在d.js后面</span><br><span class="line">如果有N多个js文件，需要手动处理他们的关系，即容易出错。</span><br><span class="line"></span><br><span class="line"># 使用webpack：</span><br><span class="line">webpack的理念就是一切皆模块化，把一堆的css文件和js文件放在一个总的入口文件，通过<span class="built_in">require</span>引入，剩下的事情webpack会处理，包括所有模块的前后依赖关系，打包、压缩、合并成一个js文件，公共代码抽离成一个js文件、某些自己指定的js单独打包，模块可以是css/js/images/font等等。</span><br></pre></td></tr></table></figure>

<p><img src="/" class="lazyload" data-src="/2019/08/15/WebPack/assets%5C1547006043567.png"  alt="1547006043567"></p>
<h2 id="1-4-Gulp和webpack对比"><a href="#1-4-Gulp和webpack对比" class="headerlink" title="1.4 Gulp和webpack对比"></a>1.4 Gulp和webpack对比</h2><p>gulp、grunt、webpack都是前端自动化构建工具。</p>
<h4 id="a-gulp"><a href="#a-gulp" class="headerlink" title="a) gulp"></a>a) gulp</h4><blockquote>
<p>gulp 和 grunt 非常类似，gulp强调的是前端开发的工作流程，核心都是基于一个个的任务(task)进行项目构建，我们可以通过配置一系列的task，定义task处理的事务（例如文件压缩合并、雪碧图、启动server、版本控制等），然后定义执行顺序，来让gulp执行这些task，从而构建项目的整个前端开发流程。</p>
<p>只是grunt 会频繁进行 IO 操作，而 gulp 则不需要(<strong>基于管道流</strong>)，可以更高效的完成操作。</p>
<p>PS：简单说就一个Task Runner</p>
</blockquote>
<h4 id="b-webpack"><a href="#b-webpack" class="headerlink" title="b) webpack"></a>b) webpack</h4><blockquote>
<p>Webpack与Gulp、Grunt没有什么可比性，它把项目看成一个整体，是一个前端模块化方案，更侧重模块打包，我们可以把开发中的所有资源（图片、js文件、css文件等）都看成模块，通过loader（加载器）和plugins（插件）对资源进行处理，打包成符合生产环境部署的前端资源。</p>
<p>PS：webpack is a module bundle</p>
</blockquote>
<h2 id="1-5-webpack的使用"><a href="#1-5-webpack的使用" class="headerlink" title="1.5 webpack的使用"></a>1.5 webpack的使用</h2><p><a href="http://webpack.github.io/" target="_blank" rel="noopener">WebPack官网</a></p>
<ol>
<li><p>运行<code>npm i webpack@4.27.1 -g</code>全局安装webpack，这样就能在全局使用webpack的命令</p>
<p><code>npm i webpack-cli@3.1.2 –g</code> 全局安装webpack命令行工具</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">配置环境变量</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在项目根目录中运行<code>npm i webpack@4.27.1 --save-dev</code>安装到项目依赖中</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm info webpack <span class="comment">//查看npm上的webpack的信息</span></span><br><span class="line">webpack -v   <span class="comment">//查看当前安装的webpack的版本信息</span></span><br></pre></td></tr></table></figure>

<h2 id="1-6-webpack打包构建"><a href="#1-6-webpack打包构建" class="headerlink" title="1.6 webpack打包构建"></a>1.6 webpack打包构建</h2><p><a href="https://webpack.docschina.org/guides/getting-started" target="_blank" rel="noopener">https://webpack.docschina.org/guides/getting-started</a></p>
<h3 id="1-6-1-webpack-列表隔行变色案例"><a href="#1-6-1-webpack-列表隔行变色案例" class="headerlink" title="1.6.1 webpack 列表隔行变色案例"></a>1.6.1 webpack 列表隔行变色案例</h3><ol>
<li><p>运行<code>npm init -y</code>初始化项目，使用npm管理项目中的依赖包</p>
</li>
<li><p>创建项目基本的目录结构</p>
<p><img src="/" class="lazyload" data-src="/2019/08/15/WebPack/assets%5C1545011845124.png"  alt="1545011845124"></p>
</li>
<li><p>使用<code>npm i jquery --save</code>安装jquery类库</p>
</li>
<li><p>index.html</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!--不推荐这样用，这样使用会导致当前文件依赖于其他文件--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--&lt;script type="text/javascript" src="../node_modules/jquery/jquery.js"&gt;&lt;/script&gt;--&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">&lt;!--所以我们把主要的逻辑代码写到main.js中，只要引入一个main.js就可以了--&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--&lt;script type="text/javascript" src="main.js"&gt;&lt;/script&gt;--&gt;</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">&lt;!--使用打包后的路径--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"../dist/bundle.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!--使用jquery实现隔行渐变--&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>A<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>B<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>C<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>D<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>E<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">li</span>&gt;</span>F<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="5">
<li>创建<code>main.js</code>并书写各行变色的代码逻辑：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 导入 Jquery</span></span><br><span class="line"><span class="comment">// import *** from *** 是ES6中导入模块的方式</span></span><br><span class="line"><span class="comment">// 由于 ES6的代码，太高级了，浏览器解析不了，所以，这一行执行会报错</span></span><br><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span></span><br><span class="line"><span class="comment">//const $ = require('jquery')   express导包的语法，vue中使用es6导包的语法，import .. from ..</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置偶数行背景色，索引从0开始，0是偶数</span></span><br><span class="line">$(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="string">'li:odd'</span>).css(<span class="string">'backgroundColor'</span>, <span class="string">'yellow'</span>)</span><br><span class="line">  $(<span class="string">'li:even'</span>).css(<span class="string">'backgroundColor'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'#'</span> + <span class="string">'D97634'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>注意点</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">- 直接在页面上引用main.js会报错，因为浏览器不认识<span class="keyword">import</span>这种高级的JS语法，需要使用webpack进行处理，webpack默认会把这种高级的语法转换为低级的浏览器能识别的语法；</span><br><span class="line">- 运行webpack 入口文件路径 输出文件路径对main.js进行处理：</span><br><span class="line">    webpack ./src/main.js -o ./dist/bundle.js</span><br><span class="line">- webpack使用的是CommonJS模块化规范，即<span class="built_in">require</span>引入模块，<span class="built_in">module</span>.exports导出模块</span><br><span class="line">   Vue中使用的是ES6的模块化规范，即<span class="keyword">import</span> ** <span class="keyword">from</span> **引入模块，<span class="keyword">export</span> /<span class="keyword">export</span> <span class="keyword">default</span>导出模块</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>webstorm中的cmd</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">点击左下角的Terminal</span><br><span class="line">如果要运行package.json中的指令，可以选择tools--&gt;run gulp/grunt/npm task</span><br></pre></td></tr></table></figure>

<p><img src="/" class="lazyload" data-src="/2019/08/15/WebPack/assets%5C1545021824702.png"  alt="1545021824702"></p>
<h3 id="1-6-2-webpack配置文件使用"><a href="#1-6-2-webpack配置文件使用" class="headerlink" title="1.6.2 webpack配置文件使用"></a>1.6.2 webpack配置文件使用</h3><ol>
<li>在项目根目录中创建<code>webpack.config.js</code></li>
<li>由于运行webpack命令的时候，webpack需要指定入口文件和输出文件的路径，所以，我们需要在<code>webpack.config.js</code>中配置这两个路径：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导入处理路径的模块</span></span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 导出一个配置对象，将来webpack在启动的时候，会默认来查找webpack.config.js，并读取这个文件中导出的配置对象，来进行打包处理</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: path.resolve(__dirname, <span class="string">'src/main.js'</span>), <span class="comment">// 项目入口文件</span></span><br><span class="line">    output: &#123; <span class="comment">// 配置输出选项</span></span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>), <span class="comment">// 配置输出的路径</span></span><br><span class="line">        filename: <span class="string">'bundle.js'</span> <span class="comment">// 配置输出的文件名</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>使用命令打包构建</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 使用webpack命令即可打包项目、</span><br><span class="line">webpack   <span class="comment">//没有指定webpack打包的配置文件，默认使用项目根路径下的webpack.config.js文件</span></span><br><span class="line">webpack --config webpack.config.js  <span class="comment">//指定webpack打包的时候使用的配置文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当我们在控制台，直接输入 webpack 命令执行的时候，webpack 做了以下几步：</span></span><br><span class="line"><span class="comment">//  1. 首先webpack 发现我们并没有通过命令的形式给它指定入口和出口</span></span><br><span class="line"><span class="comment">//  2. webpack 就会去项目的根目录中查找一个叫做 `webpack.config.js` 的配置文件</span></span><br><span class="line"><span class="comment">//  3. 当找到配置文件后，webpack会去解析执行这个配置文件，当解析执行完配置文件后，就得到了 配置文件中，导出的配置对象</span></span><br><span class="line"><span class="comment">//  4. 当 webpack拿到配置对象后，就拿到了配置对象中指定的入口和出口，然后进行打包构建；</span></span><br></pre></td></tr></table></figure>

<h3 id="1-6-3-webpack实时打包构建"><a href="#1-6-3-webpack实时打包构建" class="headerlink" title="1.6.3 webpack实时打包构建"></a>1.6.3 webpack实时打包构建</h3><ol>
<li><p>由于每次重新修改代码之后，都需要手动运行webpack打包的命令，比较麻烦，所以使用<code>webpack-dev-server</code>来实现代码实时打包编译，当修改代码之后，会自动进行打包构建。</p>
</li>
<li><p>安装webpack-dev-server</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm i webpack-dev-server@<span class="number">3.1</span><span class="number">.9</span> --save-dev</span><br><span class="line">npm i webpack@<span class="number">4.27</span><span class="number">.1</span> --save-dev     <span class="comment">//项目中安装webpack</span></span><br><span class="line">npm i webpack-cli@<span class="number">3.1</span><span class="number">.2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装完成之后，在命令行直接运行<code>webpack-dev-server</code>来进行打包，发现报错，因为它不是全局命令，不可以直接使用。</p>
</li>
<li><p>我们借助于<code>package.json</code>文件中的指令来进行运行<code>webpack-dev-server</code>命令，在<code>scripts</code>节点下新增<code>&quot;dev&quot;: &quot;webpack-dev-server&quot;</code>指令，发现可以进行实时打包</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">  <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">  <span class="string">"dev"</span>: <span class="string">"webpack-dev-server"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>运行项目</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure>

<p>但是dist目录下并没有生成<code>bundle.js</code>文件，这是因为<code>webpack-dev-server</code>将打包好的文件放在了内存中。把bundle.js放在内存中的好处是：由于需要实时打包编译，所以放在内存中速度会非常快</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Project is running at  [1m [34mhttp:&#x2F;&#x2F;localhost:8084&#x2F; [39m[22m</span><br><span class="line">webpack output is served from &#x2F;</span><br></pre></td></tr></table></figure>

<pre><code>此时我们可以通过http://localhost:8083/bundle.js 文件，因为webpack-dev-server默认是将bundle.js文件打包到根路径，所以要能做到修改main.js之后页面也要同步变化，需要修改页面的script标签：</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;..&#x2F;bundle.js&quot;&gt;&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>6.指定启动参数：</p>
<pre><code>为了能在访问http://localhost:8080/的时候直接访问到index首页，可以使用--contentBase src指令来修改dev指令，指定启动的根目录：</code></pre></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">   <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">   <span class="string">"dev"</span>: <span class="string">"webpack-dev-server --open --port 3001 --contentBase src --hot"</span></span><br><span class="line"> &#125;,</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//  --open含义：构建完成自动打开浏览器</span></span><br><span class="line"> <span class="comment">//  --port 3001 : 指定运行的端口</span></span><br><span class="line"> <span class="comment">//  --contentBase src   :  指定运行的根目录是src，即认为src就是项目根目录</span></span><br><span class="line"> <span class="comment">//  --hot : 以补丁的方式修改文件，而不是修改全部文件</span></span><br></pre></td></tr></table></figure>

<p><img src="/" class="lazyload" data-src="/2019/08/15/WebPack/D:%5C%E5%89%8D%E7%AB%AF%E5%A4%87%E8%AF%BE%5C18.VUE%5Creadme%5Cassets%5C1545024701179.png"  alt="1545024701179"></p>
<pre><code>7.解决webpack4.0之后打包大小警告和热更新慢的问题

https://cloud.tencent.com/developer/section/1477466</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#main.js </span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="comment">//1.设置为开发模式，不然热更新会比较缓慢</span></span><br><span class="line">    mode:<span class="string">"development"</span>,</span><br><span class="line">    entry: path.resolve(__dirname, <span class="string">'src/main.js'</span>),</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">'dist'</span>),</span><br><span class="line">        filename: <span class="string">'bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//2.打包文件大小警告和错误的问题</span></span><br><span class="line">    performance: &#123;</span><br><span class="line">        hints:<span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-4-使用配置文件生成参数-了解"><a href="#1-6-4-使用配置文件生成参数-了解" class="headerlink" title="1.6.4 使用配置文件生成参数(了解)"></a>1.6.4 使用配置文件生成参数(了解)</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="comment">// 启用热更新的 第2步</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">'webpack'</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: path.join(__dirname, <span class="string">'./src/main.js'</span>),</span><br><span class="line">  output: &#123; </span><br><span class="line">    path: path.join(__dirname, <span class="string">'./dist'</span>), </span><br><span class="line">    filename: <span class="string">'bundle.js'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  devServer: &#123; </span><br><span class="line">    <span class="comment">// 这是配置 dev-server 命令参数的第二种形式，相对来说，这种方式麻烦一些</span></span><br><span class="line">    <span class="comment">//  --open --port 3000 --contentBase src --hot</span></span><br><span class="line">    open: <span class="literal">true</span>, <span class="comment">// 自动打开浏览器</span></span><br><span class="line">    port: <span class="number">3000</span>, <span class="comment">// 设置启动时候的运行端口</span></span><br><span class="line">    contentBase: <span class="string">'src'</span>, <span class="comment">// 指定托管的根目录</span></span><br><span class="line">    hot: <span class="literal">true</span> <span class="comment">// 启用热更新 的 第1步</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [ <span class="comment">// 配置插件的节点</span></span><br><span class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin(), <span class="comment">// new 一个热更新的 模块对象， 这是 启用热更新的第 3 步</span></span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-5-html-webpack-plugin插件配置启动页面"><a href="#1-6-5-html-webpack-plugin插件配置启动页面" class="headerlink" title="1.6.5 html-webpack-plugin插件配置启动页面"></a>1.6.5 html-webpack-plugin插件配置启动页面</h3><p><a href="https://www.npmjs.com/package/html-webpack-plugin" target="_blank" rel="noopener">https://www.npmjs.com/package/html-webpack-plugin</a></p>
<p>html-webpack-plugin插件可以<strong>将指定页面配置生成到内存中</strong>，并且可以<strong>将打包的bundle.js配置到内存中生成的html页面中</strong>，使用步骤如下：</p>
<ol>
<li>运行<code>npm i html-webpack-plugin@3.2.0 --save-dev</code>安装到开发依赖</li>
<li>修改<code>webpack.config.js</code>配置文件如下：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="comment">// 导入自动生成HTMl文件的插件</span></span><br><span class="line"><span class="keyword">var</span> htmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: path.join(__dirname, <span class="string">'./src/main.js'</span>),</span><br><span class="line">    output: &#123; </span><br><span class="line">        path: path.join(__dirname, <span class="string">'./dist'</span>), </span><br><span class="line">        filename: <span class="string">'bundle.js'</span> </span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [ </span><br><span class="line">        <span class="comment">// 添加plugins节点配置插件</span></span><br><span class="line">        <span class="keyword">new</span> htmlWebpackPlugin(&#123;</span><br><span class="line">            template:path.resolve(__dirname, <span class="string">'src/index.html'</span>),<span class="comment">//模板路径</span></span><br><span class="line">            filename:<span class="string">'index.html'</span><span class="comment">//自动生成的HTML文件的名称</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>修改<code>package.json</code>中<code>script</code>节点中的dev指令如下：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="string">"dev"</span>: <span class="string">"webpack-dev-server --open --port 3001 --contentBase src --hot"</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>将index.html中script标签注释掉，因为<code>html-webpack-plugin</code>插件会自动把bundle.js注入到index.html页面中！</li>
</ol>
<h3 id="1-6-6-使用webpack打包css文件"><a href="#1-6-6-使用webpack打包css文件" class="headerlink" title="1.6.6 使用webpack打包css文件"></a>1.6.6 使用webpack打包css文件</h3><p>一般情况下，我们并不推荐在html页面中直接引入其他css文件，这样会导致过多的请求。对应的，我们可以使用webpack来构建。使用步骤如下：</p>
<ol>
<li>运行 <code>npm i style-loader css-loader --save-dev</code></li>
<li>main.js中引入index.css</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import "./css/index.css"</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>修改<code>webpack.config.js</code>这个配置文件：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 用来配置第三方loader模块的</span></span><br><span class="line"><span class="built_in">module</span>: &#123; </span><br><span class="line">    rules: [ </span><br><span class="line">        <span class="comment">// 匹配以.css结尾的文件</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;<span class="comment">//处理css文件的规则</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>webpack 处理第三方文件类型的过程</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 发现这个要处理的文件不是JS文件，然后就去配置文件中，查找有没有对应的第三方 loader 规则</span><br><span class="line"><span class="number">2.</span> 如果能找到对应的规则， 就会调用对应的loader处理这种文件类型；</span><br><span class="line"><span class="number">3.</span> 在调用loader的时候，use中相关loader模块的调用顺序是从后向前调用的；</span><br><span class="line"><span class="number">4.</span> 当最后的一个loader调用完毕，会把处理的结果直接交给 webpack 进行打包合并，最终输出到  bundle.js 中去</span><br></pre></td></tr></table></figure>

<h3 id="1-6-7-使用webpack打包less文件"><a href="#1-6-7-使用webpack打包less文件" class="headerlink" title="1.6.7 使用webpack打包less文件"></a>1.6.7 使用webpack打包less文件</h3><ol>
<li>运行<code>npm i less-loader less</code>，需要同时安装less-loader和less</li>
<li>main.js中引入index.less</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import "./css/index.less"</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>修改<code>webpack.config.js</code>这个配置文件：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123; <span class="comment">// 用来配置第三方loader模块的</span></span><br><span class="line">    rules: [ <span class="comment">// 文件的匹配规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;,<span class="comment">//处理css文件的规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.less$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'less-loader'</span>] &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-8-使用webpack打包sass文件"><a href="#1-6-8-使用webpack打包sass文件" class="headerlink" title="1.6.8 使用webpack打包sass文件"></a>1.6.8 使用webpack打包sass文件</h3><ol>
<li>运行<code>npm i sass-loader@7.3.1 node-sass --save-dev</code></li>
<li>main.js中引入index.scss   </li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意：文件名是scss结尾</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"./css/index.scss"</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>在<code>webpack.config.js</code>中添加处理scss文件的loader模块：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123; <span class="comment">// 用来配置第三方loader模块的</span></span><br><span class="line">    rules: [ <span class="comment">// 文件的匹配规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;,<span class="comment">//处理css文件的规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.less$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'less-loader'</span>] &#125;,</span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.scss$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'sass-loader'</span>] &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-9-使用webpack处理css中的路径"><a href="#1-6-9-使用webpack处理css中的路径" class="headerlink" title="1.6.9 使用webpack处理css中的路径"></a>1.6.9 使用webpack处理css中的路径</h3><ol>
<li>运行<code>npm i url-loader file-loader --save-dev</code></li>
<li>在<code>webpack.config.js</code>中添加处理url路径的loader模块：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123; <span class="comment">// 用来配置第三方loader模块的</span></span><br><span class="line">    rules: [ <span class="comment">// 文件的匹配规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;,<span class="comment">//处理css文件的规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.less$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'less-loader'</span>] &#125;,</span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.scss$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'sass-loader'</span>] &#125;,</span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|gif|bmp|jpeg)$/</span>, <span class="attr">use</span>: <span class="string">'url-loader'</span> &#125;</span><br><span class="line">    ]</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>index.css</li>
</ol>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">450px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(../images/<span class="number">1</span>.jpg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意点：url-loader默认情况下会将图片转换为base64编码的图片，好处是可以减少图片的二次请求。但是这种方式一般情况下适用于小图，如果是大图，我们可以像下面这样去使用：</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>: &#123; <span class="comment">// 用来配置第三方loader模块的</span></span><br><span class="line">    rules: [ <span class="comment">// 文件的匹配规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;,<span class="comment">//处理css文件的规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.less$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'less-loader'</span>] &#125;,</span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.scss$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'sass-loader'</span>] &#125;,</span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|gif|bmp|jpeg)$/</span>,</span><br><span class="line">         		use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'url-loader'</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            limit: <span class="number">8192</span>,</span><br><span class="line">                            name:<span class="string">'[hash:8]-[name].[ext]'</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//limit ： 当图片大小小于等于指定的值时会进行base64编码</span></span><br><span class="line"><span class="comment">//name =[name].[ext]： 不给图片重命名，还是使用原图名。如果没有这个属性，则默认会使用hashcode的方式来给图片重命名。</span></span><br><span class="line"><span class="comment">//给图片重命名的好处是：如果在多个不同的目录下有两张同名的图片(内容不同)，不会产生冲突。(默认情况下webpack会将图片也打包到根路径下)</span></span><br><span class="line"><span class="comment">//如果既想多个文件夹下的同名的图片被打包后不冲突，又想保留原来的图片名字，可以这样使用：name=[hash:8]-[name].[ext]  ，  [hash:8]表示保留8位hash值，然后再去追加原来的[name]</span></span><br></pre></td></tr></table></figure>

<h3 id="1-6-10-使用webpack处理字体图标"><a href="#1-6-10-使用webpack处理字体图标" class="headerlink" title="1.6.10 使用webpack处理字体图标"></a>1.6.10 使用webpack处理字体图标</h3><p>1.运行<code>npm i bootstrap@3.3.5</code>安装boostrap</p>
<p>2.main.js引入bootstrap</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意：这边import的时候不需要加上 node_modules目录，import前面没有路径的时候会自动从node_modules目录下去查找</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">"bootstrap/dist/css/bootstrap.css"</span></span><br></pre></td></tr></table></figure>

<p>3.index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"glyphicon glyphicon-heart-empty"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>4.webpack.config.js修改匹配规则。因为boostrap的字体文件中也使用了url，所以字体文件的路径一样要处理</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123; <span class="comment">// 用来配置第三方loader模块的</span></span><br><span class="line">    rules: [ <span class="comment">// 文件的匹配规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;,<span class="comment">//处理css文件的规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.less$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'less-loader'</span>] &#125;,</span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.scss$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'sass-loader'</span>] &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">                test: <span class="regexp">/\.(png|jpg|gif|bmp|jpeg)$/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'url-loader'</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            limit: <span class="number">8192</span>,</span><br><span class="line">                            name:<span class="string">'[hash:8]-[name].[ext]'</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;   <span class="attr">test</span>: <span class="regexp">/\.(ttf|eot|svg|woff|woff2)$/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader:<span class="string">'url-loader'</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;, <span class="comment">// 处理 字体文件的 loader</span></span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-6-11-webpack中babel的配置"><a href="#1-6-11-webpack中babel的配置" class="headerlink" title="1.6.11 webpack中babel的配置"></a>1.6.11 webpack中babel的配置</h3><p>在 webpack 中，默认只能处理一部分 ES6 的新语法；这时候就需要借助于第三方的 loader，来帮助webpack 处理这些高级的语法，当第三方loader可以把高级语法转为低级的语法，然后再把结果交给 webpack 去打包到 bundle.js 中</p>
<ol>
<li>运行<code>npm i babel-core@6.26.3 babel-loader@7.1.5 babel-plugin-transform-runtime --save-dev</code>安装babel的相关loader包 (babel的转换工具)</li>
<li>运行<code>npm i babel-preset-env babel-preset-stage-0 --save-dev</code>安装babel转换的语法 (es6的语法和es5的语法的对应关系)</li>
<li>在<code>webpack.config.js</code>中添加相关loader模块，其中需要注意的是，一定要把<code>node_modules</code>文件夹添加到排除项：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123; <span class="comment">// 用来配置第三方loader模块的</span></span><br><span class="line">    rules: [ <span class="comment">// 文件的匹配规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;,<span class="comment">//处理css文件的规则</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.less$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'less-loader'</span>] &#125;,</span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.scss$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'sass-loader'</span>] &#125;,</span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|gif|bmp|jpeg)$/</span>, <span class="attr">use</span>: <span class="string">'url-loader?limit=1024&amp;name=[hash:8]-[name].[ext]'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.(ttf|eot|svg|woff|woff2)$/</span>, <span class="attr">use</span>: <span class="string">'url-loader'</span> &#125;, <span class="comment">// 处理 字体文件的 loader</span></span><br><span class="line">        <span class="comment">//配置 babel 的 loader规则的时候，必须 把 node_modules 目录，通过 exclude 选项排除掉</span></span><br><span class="line">        &#123; <span class="attr">test</span>: <span class="regexp">/\.js$/</span>, <span class="attr">use</span>: <span class="string">'babel-loader'</span>, <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span> &#125;,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>在项目根目录中添加<code>.babelrc</code>文件，并修改这个配置文件如下(这个文件必须符合json的语法，不能有注释。字符串必须使用双引号)：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"presets"</span>: [<span class="string">"env"</span>, <span class="string">"stage-0"</span>],</span><br><span class="line">  <span class="string">"plugins"</span>: [<span class="string">"transform-runtime"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>注意：之前用的比较多的语法插件<code>babel-preset-es2015</code>更新为<code>babel-preset-env</code>，它包含了所有的ES相关的语法；</strong></p>
<h3 id="1-6-12-所有配置总结"><a href="#1-6-12-所有配置总结" class="headerlink" title="1.6.12 所有配置总结"></a>1.6.12 所有配置总结</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"># 1.安装</span><br><span class="line">npm i webpack@<span class="number">4.20</span><span class="number">.1</span> --save-dev                   <span class="comment">//安装webpack</span></span><br><span class="line">npm init -y                                                       <span class="comment">//项目初始化</span></span><br><span class="line">npm i webpack-dev-server@<span class="number">3.1</span><span class="number">.9</span> --save-dev      <span class="comment">//实时打包构建</span></span><br><span class="line">npm i webpack-cli@<span class="number">3.1</span><span class="number">.2</span>      </span><br><span class="line">npm i html-webpack-plugin@<span class="number">3.2</span><span class="number">.0</span> --save-dev      <span class="comment">//配置内存页面</span></span><br><span class="line">npm i style-loader css-loader --save-dev               <span class="comment">//css加载器</span></span><br><span class="line">npm i less-loader less                                             <span class="comment">//less加载器</span></span><br><span class="line">npm i sass-loader@<span class="number">7.3</span><span class="number">.1</span> node-sass --save-dev               <span class="comment">//sass加载器</span></span><br><span class="line">npm i url-loader file-loader --save-dev                 <span class="comment">//url加载器</span></span><br><span class="line">npm i babel-core@<span class="number">6.26</span><span class="number">.3</span> babel-loader@<span class="number">7.1</span><span class="number">.5</span> babel-plugin-transform-runtime --save-dev    <span class="comment">//babel转换工具</span></span><br><span class="line">npm i babel-preset-env babel-preset-stage<span class="number">-0</span> --save-dev           <span class="comment">//babel转换的语法</span></span><br><span class="line"></span><br><span class="line">#2.webpack.config.js</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="comment">// 导入自动生成HTMl文件的插件</span></span><br><span class="line"><span class="keyword">var</span> htmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: path.join(__dirname, <span class="string">'./src/main.js'</span>),</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.join(__dirname, <span class="string">'./dist'</span>),</span><br><span class="line">        filename: <span class="string">'bundle.js'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="comment">// 添加plugins节点配置插件</span></span><br><span class="line">        <span class="keyword">new</span> htmlWebpackPlugin(&#123;</span><br><span class="line">            template:path.resolve(__dirname, <span class="string">'src/index.html'</span>),<span class="comment">//模板路径</span></span><br><span class="line">            filename:<span class="string">'index.html'</span><span class="comment">//自动生成的HTML文件的名称</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ],</span><br><span class="line">    <span class="built_in">module</span>: &#123; <span class="comment">// 用来配置第三方loader模块的</span></span><br><span class="line">        rules: [ <span class="comment">// 文件的匹配规则</span></span><br><span class="line">            &#123; <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>] &#125;,<span class="comment">//处理css文件的规则</span></span><br><span class="line">            &#123; <span class="attr">test</span>: <span class="regexp">/\.less$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'less-loader'</span>] &#125;,</span><br><span class="line">            &#123; <span class="attr">test</span>: <span class="regexp">/\.scss$/</span>, <span class="attr">use</span>: [<span class="string">'style-loader'</span>, <span class="string">'css-loader'</span>, <span class="string">'sass-loader'</span>] &#125;,</span><br><span class="line">            &#123; <span class="attr">test</span>: <span class="regexp">/\.(png|jpg|gif|bmp|jpeg)$/</span>, <span class="attr">use</span>: <span class="string">'url-loader?limit=1024&amp;name=[hash:8]-[name].[ext]'</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">test</span>: <span class="regexp">/\.(ttf|eot|svg|woff|woff2)$/</span>, <span class="attr">use</span>: <span class="string">'url-loader'</span> &#125;, <span class="comment">// 处理 字体文件的 loader</span></span><br><span class="line">            <span class="comment">//配置 babel 的 loader规则的时候，必须 把 node_modules 目录，通过 exclude 选项排除掉</span></span><br><span class="line">            &#123; <span class="attr">test</span>: <span class="regexp">/\.js$/</span>, <span class="attr">use</span>: <span class="string">'babel-loader'</span>, <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span> &#125;,</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#3.项目入口文件</span><br><span class="line"><span class="keyword">import</span> <span class="string">"./css/index.css"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"ok"</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name,age)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    showInfo()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person(<span class="string">"xiaoming"</span>,<span class="number">18</span>);</span><br><span class="line"><span class="built_in">console</span>.log(p.name);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#4.package.json</span><br><span class="line"> <span class="string">"scripts"</span>: &#123;</span><br><span class="line">    <span class="string">"test"</span>: <span class="string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span>,</span><br><span class="line">    <span class="string">"dev"</span>: <span class="string">"webpack-dev-server --open --port 3000 --contentBase src --hot"</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">#5.项目根目录 .babelrc</span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">"presets"</span>: [<span class="string">"env"</span>, <span class="string">"stage-0"</span>],</span><br><span class="line">  <span class="string">"plugins"</span>: [<span class="string">"transform-runtime"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1-7-相关文章"><a href="#1-7-相关文章" class="headerlink" title="1.7 相关文章"></a>1.7 相关文章</h2><p><a href="https://segmentfault.com/p/1210000008466178" target="_blank" rel="noopener">babel-preset-env：你需要的唯一Babel插件</a><br><a href="https://segmentfault.com/a/1190000009065987" target="_blank" rel="noopener">Runtime transform 运行时编译es6</a></p>
<h1 id="2-Vue结合webpack的使用"><a href="#2-Vue结合webpack的使用" class="headerlink" title="2.Vue结合webpack的使用"></a>2.Vue结合webpack的使用</h1><h2 id="2-1-基本使用"><a href="#2-1-基本使用" class="headerlink" title="2.1 基本使用"></a>2.1 基本使用</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">#1.安装vue</span><br><span class="line">   运行npm i vue@<span class="number">2.6</span><span class="number">.11</span>将vue安装为运行依赖</span><br><span class="line">   </span><br><span class="line">#2.main.js</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> 注意：在webpack中使用 import Vue from 'vue'导入的Vue构造函数功能不完整，只提供了runtime-only的方式，并没有提供像网页中那样的使用方式；</span></span><br><span class="line"><span class="comment"> import Vue from 'vue' 导入包的规则：</span></span><br><span class="line"><span class="comment">   1. 找项目根目录中有没有 node_modules 的文件夹</span></span><br><span class="line"><span class="comment">   2. 在node_modules中根据包名，找对应的vue文件夹</span></span><br><span class="line"><span class="comment">   3. 在vue文件夹中，找一个叫做 package.json 的包配置文件</span></span><br><span class="line"><span class="comment">   4. 在package.json文件中，查找一个 main 属性【main属性指定了这个包在被加载时候的入口文件】，这里我们发现入口文件为vue.runtime.common.js，并不是vue.js文件</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> 解决方案有两种：</span></span><br><span class="line"><span class="comment">   1.在webpack.config.js下新增配置：</span></span><br><span class="line"><span class="comment">       resolve: &#123;</span></span><br><span class="line"><span class="comment">            alias: &#123;</span></span><br><span class="line"><span class="comment">                'vue$': 'vue/dist/vue.js'</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        然后使用 import Vue from 'vue'  就可以了</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">   2.手动修改导包的路径为：import Vue from 'vue/dist/vue''，此时无需修改配置文件</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> login = &#123;</span><br><span class="line">   template: <span class="string">'&lt;h1&gt;这是login组件，是使用网页中形式创建出来的组件&lt;/h1&gt;'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        msg: <span class="string">'123'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        login</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">#3.index.html</span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">	&lt;login&gt;&lt;/</span>login&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">#4.webpack.config.js</span></span><br><span class="line"><span class="regexp">resolve: &#123;</span></span><br><span class="line"><span class="regexp">    alias: &#123;</span></span><br><span class="line"><span class="regexp">        'vue$': 'vue/</span>dist/vue.js<span class="string">'</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#5.package.json、.babelrc还有webpack的所需要安装的内容和之前一致</span></span><br></pre></td></tr></table></figure>

<h2 id="2-2-使用-vue文件的方式生成组件"><a href="#2-2-使用-vue文件的方式生成组件" class="headerlink" title="2.2 使用.vue文件的方式生成组件"></a>2.2 使用.vue文件的方式生成组件</h2><p>vscode中安装vetur插件，可以格式化html、标准css（有分号 、大括号的那种）、标准js（有分号 、双引号的那种）、vue文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">#1. 新建login.vue文件</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;这是登录组件，使用 .vue 文件定义出来的 &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">#2.main.js引入.vue文件，并使用</span></span><br><span class="line"><span class="regexp">import Vue from 'vue'</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">import login from './</span>login.vue<span class="string">'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">var vm = new Vue(&#123;</span></span><br><span class="line">    el: '#app',</span><br><span class="line">    data: &#123;</span><br><span class="line">        msg: <span class="string">'123'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        login</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">#3. index.html</span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;msg&#125;&#125;&lt;<span class="regexp">/p&gt;</span></span><br><span class="line"><span class="regexp">    &lt;login&gt;&lt;/</span>login&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">#4.安装vue-loader和 vue-template-compiler(默认情况下不支持import方式引入.vue文件，需要安装下面两个文件)</span></span><br><span class="line"><span class="regexp">npm i vue-loader@15.4.2 vue-template-compiler@2.6.11</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/注意：这里vue-template-compiler版本需要和当前使用的vue版本一致</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">#5.webpack.config.js</span></span><br><span class="line"><span class="regexp">const path = require('path')</span></span><br><span class="line"><span class="regexp">var htmlWebpackPlugin = require('html-webpack-plugin');</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/1.引入VueLoaderPlugin插件(在vue-loader15版本以后需要配置这个)</span></span><br><span class="line"><span class="regexp">const VueLoaderPlugin = require('vue-loader/</span>lib/plugin<span class="string">');</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">module.exports = &#123;</span></span><br><span class="line"><span class="string">    entry: path.join(__dirname, '</span>./src/main.js<span class="string">'),</span></span><br><span class="line"><span class="string">    output: &#123;</span></span><br><span class="line"><span class="string">        path: path.join(__dirname, '</span>./dist<span class="string">'),</span></span><br><span class="line"><span class="string">        filename: '</span>bundle.js<span class="string">'</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    plugins: [</span></span><br><span class="line"><span class="string">        new htmlWebpackPlugin(&#123;</span></span><br><span class="line"><span class="string">            template:path.resolve(__dirname, '</span>src/index.html<span class="string">'),//模板路径</span></span><br><span class="line"><span class="string">            filename:'</span>index.html<span class="string">'//自动生成的HTML文件的名称</span></span><br><span class="line"><span class="string">        &#125;),</span></span><br><span class="line"><span class="string">        // 2.配置VueLoaderPlugin插件</span></span><br><span class="line"><span class="string">        new VueLoaderPlugin()</span></span><br><span class="line"><span class="string">    ],</span></span><br><span class="line"><span class="string">    module: &#123; </span></span><br><span class="line"><span class="string">        rules: [ </span></span><br><span class="line"><span class="string">            &#123; test: /\.css$/, use: ['</span>style-loader<span class="string">', '</span>css-loader<span class="string">'] &#125;,</span></span><br><span class="line"><span class="string">            &#123; test: /\.less$/, use: ['</span>style-loader<span class="string">', '</span>css-loader<span class="string">', '</span>less-loader<span class="string">'] &#125;,</span></span><br><span class="line"><span class="string">            &#123; test: /\.scss$/, use: ['</span>style-loader<span class="string">', '</span>css-loader<span class="string">', '</span>sass-loader<span class="string">'] &#125;,</span></span><br><span class="line"><span class="string">            &#123; test: /\.(png|jpg|gif|bmp|jpeg)$/, use: '</span>url-loader?limit=<span class="number">1024</span>&amp;name=[hash:<span class="number">8</span>]-[name].[ext]<span class="string">' &#125;,</span></span><br><span class="line"><span class="string">            &#123; test: /\.(ttf|eot|svg|woff|woff2)$/, use: '</span>url-loader<span class="string">' &#125;, </span></span><br><span class="line"><span class="string">            &#123; test: /\.js$/, use: '</span>babel-loader<span class="string">', exclude: /node_modules/ &#125;,</span></span><br><span class="line"><span class="string">            //3.处理 .vue 文件的 loader</span></span><br><span class="line"><span class="string">            &#123; test: /\.vue$/, use: '</span>vue-loader<span class="string">' &#125; </span></span><br><span class="line"><span class="string">        ]</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    resolve: &#123;</span></span><br><span class="line"><span class="string">        alias: &#123;</span></span><br><span class="line"><span class="string">           '</span>vue$<span class="string">': '</span>vue/dist/vue.js<span class="string">'</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-3-render渲染组件"><a href="#2-3-render渲染组件" class="headerlink" title="2.3 render渲染组件"></a>2.3 render渲染组件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#main.js</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> login <span class="keyword">from</span> <span class="string">'./login.vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        msg: <span class="string">'123'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    render: <span class="function"><span class="params">c</span> =&gt;</span> c(login)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//注意：此种方式会替换页面内容</span></span><br></pre></td></tr></table></figure>

<h2 id="2-4-vue组件中的数据"><a href="#2-4-vue组件中的数据" class="headerlink" title="2.4 .vue组件中的数据"></a>2.4 .vue组件中的数据</h2><h3 id="2-4-1-模块的导出"><a href="#2-4-1-模块的导出" class="headerlink" title="2.4.1 模块的导出"></a>2.4.1 模块的导出</h3><p>   ES6语法：</p>
<blockquote>
<ol>
<li><p>在ES6中使用 export default 和 export 导出模块中的成员;</p>
<p>(Node中使用 module.exports 和 export导出成员)</p>
</li>
<li><p>使用 import ** from ** 和 import ‘路径’ 还有 import {a, b} from ‘模块标识’ 导入其他模块</p>
</li>
</ol>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#1. 新建test.js</span><br><span class="line"><span class="comment">// 在 ES6 中，使用 export default 和 export 向外暴露成员：</span></span><br><span class="line"><span class="keyword">var</span> info = &#123;</span><br><span class="line">  name: <span class="string">'zs'</span>,</span><br><span class="line">  age: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> info</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 注意：</span></span><br><span class="line"><span class="comment">   export default 向外暴露的成员，可以使用任意的变量来接收</span></span><br><span class="line"><span class="comment">   在一个模块中，export default 只允许向外暴露1次</span></span><br><span class="line"><span class="comment">   在一个模块中，可以同时使用 export default 和 export 向外暴露成员</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> title = <span class="string">'小星星'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> content = <span class="string">'哈哈哈'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*注意：</span></span><br><span class="line"><span class="comment">     使用 export 向外暴露的成员，只能使用 &#123; &#125; 的形式来接收，这种形式叫做 【按需导出】</span></span><br><span class="line"><span class="comment">     export 可以向外暴露多个成员， 同时如果某些成员在我们import 的时候不需要，则可以不在 &#123;&#125;  中定义</span></span><br><span class="line"><span class="comment">     使用 export 导出的成员，必须严格按照导出时候的名称来使用  &#123;&#125;  按需接收；</span></span><br><span class="line"><span class="comment">     使用 export 导出的成员，如果想换个名称来接收，可以使用 as 来起别名；</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line">#2. main.js</span><br><span class="line"><span class="keyword">import</span> minfo3, &#123; title <span class="keyword">as</span> title123, content &#125; <span class="keyword">from</span> <span class="string">'./test.js'</span></span><br><span class="line"><span class="built_in">console</span>.log(minfo3)    <span class="comment">//这里的minfo3就是test.js中所暴露出来的default info</span></span><br><span class="line"><span class="built_in">console</span>.log(title123 + <span class="string">' --- '</span> + content)</span><br></pre></td></tr></table></figure>

<h3 id="2-4-2-vue中的数据导出"><a href="#2-4-2-vue中的数据导出" class="headerlink" title="2.4.2 .vue中的数据导出"></a>2.4.2 .vue中的数据导出</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#login.vue</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;这是登录组件，使用 .vue 文件定义出来的 --- &#123;&#123;msg&#125;&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;button @click="show"&gt;点我&lt;/</span>button&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      <span class="comment">// 注意：组件中的 data 必须是 function</span></span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        msg: <span class="string">"123321"</span></span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      show() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"调用了 login.vue 中的 show 方法"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-5-vue-router使用"><a href="#2-5-vue-router使用" class="headerlink" title="2.5 vue-router使用"></a>2.5 vue-router使用</h2><p><a href="https://router.vuejs.org/" target="_blank" rel="noopener">vue-router官网</a></p>
<h3 id="2-5-1-基本使用"><a href="#2-5-1-基本使用" class="headerlink" title="2.5.1 基本使用"></a>2.5.1 基本使用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">#1. 安装路由模块</span><br><span class="line">npm install vue-router --save</span><br><span class="line"></span><br><span class="line">#2.login.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;这是登录组件，使用 .vue 文件定义出来的 --- &#123;&#123;msg&#125;&#125;&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;button @click="show"&gt;点我&lt;/</span>button&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    data() &#123;</span><br><span class="line">      <span class="comment">// 注意：组件中的 data 必须是 function</span></span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        msg: <span class="string">"123321"</span></span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods: &#123;</span><br><span class="line">      show() &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"调用了 login.vue 中的 show 方法"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;style&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br><span class="line"></span><br><span class="line">#3.register.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;这是注册组件&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">#4.main.js</span></span><br><span class="line"><span class="regexp">import Vue from 'vue'</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/1.导入VueRouter并且安装</span></span><br><span class="line"><span class="regexp">import VueRouter from 'vue-router'</span></span><br><span class="line"><span class="regexp">Vue.use(VueRouter)</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/2.导入组件</span></span><br><span class="line"><span class="regexp">import login from './</span>login.vue<span class="string">'</span></span><br><span class="line"><span class="string">import register from '</span>./register.vue<span class="string">'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//3.创建路由对象</span></span><br><span class="line"><span class="string">var router = new VueRouter(&#123;</span></span><br><span class="line"><span class="string">    routes: [</span></span><br><span class="line"><span class="string">        &#123; path: '</span>/<span class="string">', redirect: '</span>/login<span class="string">' &#125;,</span></span><br><span class="line"><span class="string">        &#123; path: '</span>/login<span class="string">', component: login &#125;,</span></span><br><span class="line"><span class="string">        &#123; path: '</span>/register<span class="string">', component: register &#125;</span></span><br><span class="line"><span class="string">    ]</span></span><br><span class="line"><span class="string">&#125;);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">var vm = new Vue(&#123;</span></span><br><span class="line">    el: '#app',</span><br><span class="line">    data: &#123;</span><br><span class="line">        msg: <span class="string">'123'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//4.挂载路由</span></span><br><span class="line">    router:router</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">#5.index.html</span><br><span class="line">&lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;router-link to=<span class="string">"/login"</span>&gt;登陆&lt;<span class="regexp">/router-link&gt;</span></span><br><span class="line"><span class="regexp">    &lt;router-link to="/</span>register<span class="string">"&gt;注册&lt;/router-link&gt;</span></span><br><span class="line"><span class="string">    &lt;router-view&gt;&lt;/router-view&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#6.webpack.config.js参照之前的配置</span></span><br></pre></td></tr></table></figure>

<h3 id="2-5-2-vue-router和render结合使用"><a href="#2-5-2-vue-router和render结合使用" class="headerlink" title="2.5.2 vue-router和render结合使用"></a>2.5.2 vue-router和render结合使用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"># 在上面案例的基础上</span><br><span class="line">#1.新增account.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;账户组件&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">		&lt;!--组件中的路由--&gt;</span></span><br><span class="line"><span class="regexp">        &lt;router-link to="/</span>login<span class="string">"&gt;登陆&lt;/router-link&gt;</span></span><br><span class="line"><span class="string">        &lt;router-link to="</span>/register<span class="string">"&gt;注册&lt;/router-link&gt;</span></span><br><span class="line"><span class="string">        &lt;router-view&gt;&lt;/router-view&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/template&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#2.main.js</span></span><br><span class="line"><span class="string">import account from './account.vue'</span></span><br><span class="line"><span class="string">var vm = new Vue(&#123;</span></span><br><span class="line"><span class="string">    el: '#app',</span></span><br><span class="line"><span class="string">    data: &#123;</span></span><br><span class="line"><span class="string">        msg: '123'</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    //渲染组件替换el</span></span><br><span class="line"><span class="string">    render:e=&gt;e(account),</span></span><br><span class="line"><span class="string">    router:router</span></span><br><span class="line"><span class="string">&#125;)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#3.index.html</span></span><br><span class="line"><span class="string">&lt;div id="</span>app<span class="string">"&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-5-3-路由嵌套"><a href="#2-5-3-路由嵌套" class="headerlink" title="2.5.3 路由嵌套"></a>2.5.3 路由嵌套</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"># 在上面案例的基础上</span><br><span class="line">#1. 新建subcom/findpwd.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;找回密码&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">#2. 新建subcom/</span>thirdpartlogin.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;微信登陆&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">#3.修改login.vue</span></span><br><span class="line"><span class="regexp">&lt;template&gt;</span></span><br><span class="line"><span class="regexp">  &lt;div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;h1&gt;这是登录组件，使用 .vue 文件定义出来的 --- &#123;&#123;msg&#125;&#125;&lt;/</span>h1&gt;</span><br><span class="line">    &lt;button @click=<span class="string">"show"</span>&gt;点我&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &lt;router-link to="/</span>login/findpwd<span class="string">"&gt;找回密码&lt;/router-link&gt;</span></span><br><span class="line"><span class="string">    &lt;router-link to="</span>/login/thirdpartlogin<span class="string">"&gt;第三方登陆&lt;/router-link&gt;</span></span><br><span class="line"><span class="string">    &lt;router-view&gt;&lt;/router-view&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/template&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">  export default &#123;</span></span><br><span class="line"><span class="string">    data() &#123;</span></span><br><span class="line"><span class="string">      // 注意：组件中的 data 必须是 function</span></span><br><span class="line"><span class="string">      return &#123;</span></span><br><span class="line"><span class="string">        msg: "</span><span class="number">123321</span><span class="string">"</span></span><br><span class="line"><span class="string">      &#125;;</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    methods: &#123;</span></span><br><span class="line"><span class="string">      show() &#123;</span></span><br><span class="line"><span class="string">        console.log("</span>调用了 login.vue 中的 show 方法<span class="string">");</span></span><br><span class="line"><span class="string">      &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#4.在main.js中配置子路由</span></span><br><span class="line"><span class="string">var router = new VueRouter(&#123;</span></span><br><span class="line"><span class="string">    routes: [</span></span><br><span class="line"><span class="string">        &#123; path: '/', redirect: '/login' &#125;,</span></span><br><span class="line"><span class="string">        &#123; path: '/login',</span></span><br><span class="line"><span class="string">          component: login,</span></span><br><span class="line"><span class="string">          children:[</span></span><br><span class="line"><span class="string">              &#123;path:'findpwd',component:findpwd&#125;,</span></span><br><span class="line"><span class="string">              &#123;path:'thirdpartlogin',component:thirdpartlogin&#125;</span></span><br><span class="line"><span class="string">          ]</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        &#123; path: '/register', component: register &#125;</span></span><br><span class="line"><span class="string">    ]</span></span><br><span class="line"><span class="string">&#125;);</span></span><br></pre></td></tr></table></figure>

<h2 id="2-6-组件样式"><a href="#2-6-组件样式" class="headerlink" title="2.6 组件样式"></a>2.6 组件样式</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># 在上面代码的基础上</span><br><span class="line">#login.vue新增样式</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  <span class="comment">/*scoped作用域，如果不加scoped，则h1的样式会默认使用为全局而非当前组件*/</span></span><br><span class="line">  h1&#123;</span><br><span class="line">    color: red;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">#account.vue新增样式</span></span><br><span class="line"><span class="regexp">&lt;style lang="scss" scoped&gt;</span></span><br><span class="line"><span class="regexp">    /</span>*要编译sass只需要lang=<span class="string">"scss"</span>就可以</span><br><span class="line">      scoped 推荐使用*<span class="regexp">/</span></span><br><span class="line"><span class="regexp">    body&#123;</span></span><br><span class="line"><span class="regexp">        h1&#123;</span></span><br><span class="line"><span class="regexp">            background-color: blue;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//scoped的原理：scoped实际上是给当前组件的所有元素加上data-v-f626523的属性来实现的样式隔离</span></span><br></pre></td></tr></table></figure>

<h2 id="2-7-抽离路由为单独的模块"><a href="#2-7-抽离路由为单独的模块" class="headerlink" title="2.7 抽离路由为单独的模块"></a>2.7 抽离路由为单独的模块</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">#1.main.js</span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="comment">//导入VueRouter并且安装</span></span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> account <span class="keyword">from</span> <span class="string">'./account.vue'</span></span><br><span class="line"><span class="comment">//导入路由模块</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router.js'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        msg: <span class="string">'123'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    render:<span class="function"><span class="params">e</span>=&gt;</span>e(account),</span><br><span class="line">    <span class="comment">//挂载路由</span></span><br><span class="line">    router:router</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#2.router.js</span><br><span class="line"><span class="keyword">import</span> VueRouter <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="comment">//导入组件</span></span><br><span class="line"><span class="keyword">import</span> login <span class="keyword">from</span> <span class="string">'./login.vue'</span></span><br><span class="line"><span class="keyword">import</span> register <span class="keyword">from</span> <span class="string">'./register.vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> findpwd <span class="keyword">from</span> <span class="string">'./subcom/findpwd.vue'</span></span><br><span class="line"><span class="keyword">import</span> thirdpartlogin <span class="keyword">from</span> <span class="string">'./subcom/thirdpartlogin.vue'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建路由对象</span></span><br><span class="line"><span class="keyword">var</span> router = <span class="keyword">new</span> VueRouter(&#123;</span><br><span class="line">    routes: [</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">'/'</span>, <span class="attr">redirect</span>: <span class="string">'/login'</span> &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">'/login'</span>,</span><br><span class="line">          component: login,</span><br><span class="line">          children:[</span><br><span class="line">              &#123;<span class="attr">path</span>:<span class="string">'findpwd'</span>,<span class="attr">component</span>:findpwd&#125;,</span><br><span class="line">              &#123;<span class="attr">path</span>:<span class="string">'thirdpartlogin'</span>,<span class="attr">component</span>:thirdpartlogin&#125;</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; <span class="attr">path</span>: <span class="string">'/register'</span>, <span class="attr">component</span>: register &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//导出路由对象</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure>

<h1 id="3-vuex介绍"><a href="#3-vuex介绍" class="headerlink" title="3.vuex介绍"></a>3.vuex介绍</h1><h2 id="3-1-vuex概念"><a href="#3-1-vuex概念" class="headerlink" title="3.1 vuex概念"></a>3.1 vuex概念</h2><p><a href="https://vuex.vuejs.org/zh/installation.html" target="_blank" rel="noopener">https://vuex.vuejs.org/zh/installation.html</a></p>
<p>vuex 是 Vue 配套的 公共数据管理工具，它可以把一些共享的数据保存到 vuex 中，方便 整个程序中的任何组件直接获取或修改我们的公共数据；</p>
<h2 id="3-2-vuex的基本使用"><a href="#3-2-vuex的基本使用" class="headerlink" title="3.2 vuex的基本使用"></a>3.2 vuex的基本使用</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line">#1.拷贝原项目中除了node_modules之外的其他信息，运行npm install安装模块 </span><br><span class="line"></span><br><span class="line">#2.安装vuex</span><br><span class="line"> npm i vuex -S</span><br><span class="line"></span><br><span class="line">#3.main.js</span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 注册vuex到vue中</span></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="comment">// new Vuex.Store()实例，得到一个数据仓储对象</span></span><br><span class="line"><span class="comment">// 可以在组件中通过this.$store.state.xx 来访问store中的数据</span></span><br><span class="line"><span class="keyword">var</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="comment">//state相当于组件中的data</span></span><br><span class="line">    state: &#123;</span><br><span class="line">        count: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//如果要修改store中state的值，需要调用 mutations提供的方法，可以通过this.$store.commit('方法名')来调用</span></span><br><span class="line">    mutations: &#123;</span><br><span class="line">        increment(state) &#123;</span><br><span class="line">            state.count++</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//mutations函数参数列表中最多支持两个参数，其中参数1是state； 参数2是通过commit提交过来的参数；</span></span><br><span class="line">        subtract(state, obj) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(obj)</span><br><span class="line">            state.count -= obj.step;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    getters: &#123;</span><br><span class="line">        <span class="comment">//这里的getters只负责对外提供数据，不负责修改数据，如果想要修改 state 中的数据需要在mutations中修改</span></span><br><span class="line">        optCount: <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'当前最新的count值是：'</span> + state.count</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 总结：</span></span><br><span class="line"><span class="comment">// 1. state中的数据，不能直接修改，如果想要修改，必须通过 mutations</span></span><br><span class="line"><span class="comment">// 2. 如果组件想要直接 从 state 上获取数据： 需要 this.$store.state.***</span></span><br><span class="line"><span class="comment">// 3. 如果组件想要修改数据，必须使用 mutations 提供的方法，需要通过 this.$store.commit('方法的名称'， 唯一的一个参数)</span></span><br><span class="line"><span class="comment">// 4. store中state上的数据在对外提供的时候建议做一层包装，推荐使用 getters。调用的时候则用this.$store.getters.***</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App.vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    render: <span class="function"><span class="params">c</span> =&gt;</span> c(App),</span><br><span class="line">    <span class="comment">//将vuex创建的store挂载到VM实例上，只要挂载到了 vm 上，任何组件都能使用store来存取数据</span></span><br><span class="line">    store</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">#4.index.html</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=<span class="string">"app"</span>&gt;&lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line"></span><br><span class="line">#5.App.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;这是 App 组件&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">        &lt;hr&gt;</span></span><br><span class="line"><span class="regexp">        &lt;counter&gt;&lt;/</span>counter&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;amount&gt;&lt;<span class="regexp">/amount&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">    import counter from "./</span>components/counter.vue<span class="string">";</span></span><br><span class="line"><span class="string">    import amount from "</span>./components/amount.vue<span class="string">";</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    export default &#123;</span></span><br><span class="line"><span class="string">        data() &#123;</span></span><br><span class="line"><span class="string">            return &#123;&#125;;</span></span><br><span class="line"><span class="string">        &#125;,</span></span><br><span class="line"><span class="string">        components: &#123;</span></span><br><span class="line"><span class="string">            counter,</span></span><br><span class="line"><span class="string">            amount</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#6.components/amount.vue</span></span><br><span class="line"><span class="string">&lt;template&gt;</span></span><br><span class="line"><span class="string">  &lt;div&gt;</span></span><br><span class="line"><span class="string">    &lt;h3&gt;&#123;&#123; $store.getters.optCount &#125;&#125;&lt;/h3&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/template&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#7.components/counter.vue</span></span><br><span class="line"><span class="string">&lt;template&gt;</span></span><br><span class="line"><span class="string">  &lt;div&gt;</span></span><br><span class="line"><span class="string">    &lt;input type="</span>button<span class="string">" value="</span>绑定事件-减少<span class="string">" @click="</span>sub<span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;input type="</span>button<span class="string">" value="</span>绑定事件-增加<span class="string">" @click="</span>add<span class="string">"&gt;</span></span><br><span class="line"><span class="string">    &lt;br&gt;</span></span><br><span class="line"><span class="string">    &lt;input type="</span>text<span class="string">" v-model="</span>$store.state.count<span class="string">"&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/template&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line"><span class="string">export default &#123;</span></span><br><span class="line"><span class="string">  data() &#123;</span></span><br><span class="line"><span class="string">    return &#123;</span></span><br><span class="line"><span class="string">    &#125;;</span></span><br><span class="line"><span class="string">  &#125;,</span></span><br><span class="line"><span class="string">  methods: &#123;</span></span><br><span class="line"><span class="string">    add() &#123;</span></span><br><span class="line"><span class="string">       this.$store.commit("</span>increment<span class="string">");</span></span><br><span class="line"><span class="string">    &#125;,</span></span><br><span class="line"><span class="string">    sub() &#123;</span></span><br><span class="line"><span class="string">      this.$store.commit("</span>subtract<span class="string">",&#123; step:3&#125;);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="3-3-vuex异步修改状态"><a href="#3-3-vuex异步修改状态" class="headerlink" title="3.3 vuex异步修改状态"></a>3.3 vuex异步修改状态</h2><p>mutation的使用局限：mutation必须是同步函数，如果有异步操作，可以在actions完成</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">#main.js中给store添加actions的方法</span><br><span class="line"><span class="keyword">var</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">    <span class="comment">// state相当于组件中的data</span></span><br><span class="line">    state: &#123;</span><br><span class="line">        count: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 如果要修改store中state的值，需要调用 mutations提供的方法，可以通过this.$store.commit('方法名')来调用</span></span><br><span class="line">    mutations: &#123;</span><br><span class="line">        increment (state) &#123;</span><br><span class="line">            state.count++</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// mutations函数参数列表中最多支持两个参数，其中参数1是state； 参数2是通过commit提交过来的参数；</span></span><br><span class="line">        subtract (state, obj) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(obj)</span><br><span class="line">            state.count -= obj.step</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    getters: &#123;</span><br><span class="line">        <span class="comment">// 这里的getters只负责对外提供数据，不负责修改数据，如果想要修改 state 中的数据需要在mutations中修改</span></span><br><span class="line">        optCount: <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">'当前最新的count值是：'</span> + state.count</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    actions: &#123;</span><br><span class="line">        <span class="comment">// action中的方法允许异步事件</span></span><br><span class="line">        increment (&#123; commit &#125;) &#123;</span><br><span class="line">            setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="comment">// 提交mutations中的increment方法</span></span><br><span class="line">                commit(<span class="string">'increment'</span>)</span><br><span class="line">            &#125;, <span class="number">1000</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        subtract (&#123; commit &#125;, obj) &#123;</span><br><span class="line">            <span class="comment">// 返回一个Promise，以便做回调</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">                setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                    commit(<span class="string">'subtract'</span>, obj)</span><br><span class="line">                    resolve()</span><br><span class="line">                &#125;, <span class="number">1000</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">#components/counter.vue</span><br><span class="line">methods: &#123;</span><br><span class="line">    add () &#123;</span><br><span class="line">        <span class="comment">// dispatch 触发指定的action</span></span><br><span class="line">        <span class="keyword">this</span>.$store.dispatch(<span class="string">"increment"</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">        sub () &#123;</span><br><span class="line">            <span class="keyword">this</span>.$store.dispatch(<span class="string">"subtract"</span>, &#123; <span class="attr">step</span>: <span class="number">3</span> &#125;)</span><br><span class="line">                .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">"减少操作完成"</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-4-vuex的模块"><a href="#3-4-vuex的模块" class="headerlink" title="3.4 vuex的模块"></a>3.4 vuex的模块</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">#1.使用Vuex.Store中的modules声明多个模块</span><br><span class="line"><span class="keyword">const</span> moduleA = &#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: <span class="number">1</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> moduleB = &#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    count: <span class="number">11</span></span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> store = <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    a: moduleA,</span><br><span class="line">    b: moduleB</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">#2.使用不同模块中的数据</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h3&gt;&#123;&#123; $store.state.a.count &#125;&#125;&lt;<span class="regexp">/h3&gt;</span></span><br><span class="line"><span class="regexp">    &lt;h3&gt;&#123;&#123; $store.state.b.count &#125;&#125;&lt;/</span>h3&gt;</span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="3-5-刷新网页时vuex缓存"><a href="#3-5-刷新网页时vuex缓存" class="headerlink" title="3.5 刷新网页时vuex缓存"></a>3.5 刷新网页时vuex缓存</h2><p><a href="https://blog.csdn.net/weixin_42233917/article/details/82217596" target="_blank" rel="noopener">https://blog.csdn.net/weixin_42233917/article/details/82217596</a></p>
<h1 id="4-vue中UI框架"><a href="#4-vue中UI框架" class="headerlink" title="4.vue中UI框架"></a>4.vue中UI框架</h1><h2 id="4-1-常用框架介绍"><a href="#4-1-常用框架介绍" class="headerlink" title="4.1 常用框架介绍"></a>4.1 常用框架介绍</h2><p>PC桌面端UI框架：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> iview          （用户评分高功能多炫酷，解决和避免了其他UI框架出现的一些小问题）</span><br><span class="line"><span class="number">2.</span> bootstrap  （使用用户最多）</span><br><span class="line"><span class="number">3.</span> ElementUI  （饿了么团队研发，使用较多不过里还有些小bug）</span><br></pre></td></tr></table></figure>

<p>手机端UI框架：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>BUI       </span><br><span class="line">   http:<span class="comment">//www.easybui.com/docs/  很不错官网有视频介绍。视频里有介绍非常非常实用的工具，建议去看官网视频。</span></span><br><span class="line">这个框架有现成的模板只需要一个创建模板的命令就可以创建一个大致的具有交互功能的页面。</span><br><span class="line"><span class="number">2.</span>vux  </span><br><span class="line">  vux 基于WeUI和Vue(<span class="number">2.</span>x)开发的移动端UI组件库</span><br><span class="line">  基于webpack+vue-loader+vux可以快速开发移动端页面，配合vux-loader方便你在WeUI的基础上定制需要的样式。</span><br><span class="line"><span class="number">3.</span>Mint UI</span><br><span class="line">  Mint UI 由饿了么前端团队推出的，Mint UI 是一个基于 Vue.js 封装的移动端组件库</span><br></pre></td></tr></table></figure>

<h2 id="4-2-MintUI-框架介绍"><a href="#4-2-MintUI-框架介绍" class="headerlink" title="4.2 MintUI 框架介绍"></a>4.2 MintUI 框架介绍</h2><p><a href="https://github.com/ElemeFE/mint-ui" target="_blank" rel="noopener">Github 仓储地址</a></p>
<p><a href="http://mint-ui.github.io/#!/zh-cn" target="_blank" rel="noopener">Mint-UI官方文档</a></p>
<h3 id="4-2-1-css组件使用"><a href="#4-2-1-css组件使用" class="headerlink" title="4.2.1 css组件使用"></a>4.2.1 css组件使用</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>安装MintUI</span><br><span class="line">   npm install mint-ui -S</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>main.js 导入MintUI，并注册到Vue</span><br><span class="line">  <span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line">  <span class="keyword">import</span> Mint <span class="keyword">from</span> <span class="string">'mint-ui'</span>;</span><br><span class="line">  <span class="keyword">import</span> app <span class="keyword">from</span> <span class="string">"./app.vue"</span></span><br><span class="line"></span><br><span class="line">  Vue.use(Mint);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        msg: <span class="string">'123'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    render:<span class="function"><span class="params">e</span>=&gt;</span>e(app)</span><br><span class="line">  &#125;)</span><br><span class="line">  </span><br><span class="line"><span class="number">3.</span>main.js 导入MintUI的样式</span><br><span class="line">  <span class="keyword">import</span> <span class="string">'mint-ui/lib/style.css'</span></span><br><span class="line">  </span><br><span class="line"><span class="number">4.</span>app.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;app组件&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">        &lt;mt-button type="primary" size="large" plain&gt;primary&lt;/m</span>t-button&gt;</span><br><span class="line">        &lt;mt-button type=<span class="string">"danger"</span> size=<span class="string">"small"</span> disabled&gt;danger&lt;<span class="regexp">/mt-button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        &lt;mt-button type="danger" icon="more" @click="show"&gt;more&lt;/m</span>t-button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br></pre></td></tr></table></figure>

<h3 id="4-2-2-js组件使用-toast"><a href="#4-2-2-js组件使用-toast" class="headerlink" title="4.2.2 js组件使用-toast"></a>4.2.2 js组件使用-toast</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">#在上面代码的基础上</span><br><span class="line">#app.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;app组件&lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">        &lt;mt-button type="primary" size="large" plain&gt;primary&lt;/m</span>t-button&gt;</span><br><span class="line">        &lt;mt-button type=<span class="string">"danger"</span> size=<span class="string">"small"</span> disabled&gt;danger&lt;<span class="regexp">/mt-button&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        &lt;mt-button type="danger" icon="more" @click="show"&gt;more&lt;/m</span>t-button&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">// 按需导入 Toast 组件</span></span><br><span class="line">    <span class="keyword">import</span> &#123; Toast &#125; <span class="keyword">from</span> <span class="string">"mint-ui"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">        data() &#123;</span><br><span class="line">            <span class="keyword">return</span> &#123;</span><br><span class="line">                toastInstanse: <span class="literal">null</span></span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;,</span><br><span class="line">        created() &#123;</span><br><span class="line">        &#125;,</span><br><span class="line">       methods:&#123;</span><br><span class="line">            show()&#123;</span><br><span class="line">                <span class="keyword">if</span>(<span class="keyword">this</span>.toastInstanse)&#123;</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">this</span>.toastInstanse = Toast(&#123;</span><br><span class="line">                    message: <span class="string">"这是消息"</span>,</span><br><span class="line">                    duration: <span class="number">-1</span>, <span class="comment">// 如果是 -1 则弹出之后不消失</span></span><br><span class="line">                    position: <span class="string">"top"</span>,</span><br><span class="line">                    iconClass: <span class="string">"glyphicon glyphicon-heart"</span>, <span class="comment">// 设置 图标的类</span></span><br><span class="line">                    className: <span class="string">"mytoast"</span> <span class="comment">// 自定义Toast的样式，需要自己提供一个类名</span></span><br><span class="line">                &#125;);</span><br><span class="line">                setTimeout(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span><br><span class="line">                    <span class="keyword">this</span>.toastInstanse.close();</span><br><span class="line">                    <span class="keyword">this</span>.toastInstanse = <span class="literal">null</span>;</span><br><span class="line">                &#125;,<span class="number">1000</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;!--注意：这边style不需要加scoped，scoped样式只能作用于当前组件，不能作用于当前组件的子组件--&gt;</span></span><br><span class="line"><span class="regexp">&lt;style&gt;</span></span><br><span class="line"><span class="regexp">    .mytoast&#123;</span></span><br><span class="line"><span class="regexp">        color: red!important;</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br><span class="line"></span><br><span class="line">#注意：toast中不自带字体图标，所以我们使用bootstrap中的字体图标</span><br><span class="line"><span class="comment">//1.安装</span></span><br><span class="line">   npm install bootstrap@<span class="number">3.3</span><span class="number">.5</span></span><br><span class="line"><span class="comment">//2.main.js中引入boostrap样式</span></span><br><span class="line">   <span class="keyword">import</span> <span class="string">'bootstrap/dist/css/bootstrap.css'</span></span><br></pre></td></tr></table></figure>

<h3 id="4-2-3-按需导入组件"><a href="#4-2-3-按需导入组件" class="headerlink" title="4.2.3 按需导入组件"></a>4.2.3 按需导入组件</h3><pre><code>如果完全导入Maint UI，打包后的bundle.js有将近1.5M，为了减少打包后的体积，我们可以进行按需导入。</code></pre><p><a href="http://mint-ui.github.io/docs/#/zh-cn2/quickstart" target="_blank" rel="noopener">http://mint-ui.github.io/docs/#/zh-cn2/quickstart</a></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.安装babel-plugin-component插件</span></span><br><span class="line">	npm install babel-plugin-component -D</span><br><span class="line"><span class="comment">//2.修改babel的配置文件</span></span><br><span class="line">	&#123;</span><br><span class="line">      <span class="string">"presets"</span>: [<span class="string">"env"</span>, <span class="string">"stage-0"</span>],</span><br><span class="line">      <span class="string">"plugins"</span>: [<span class="string">"transform-runtime"</span>,</span><br><span class="line">        [<span class="string">"component"</span>, [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="string">"libraryName"</span>: <span class="string">"mint-ui"</span>,</span><br><span class="line">            <span class="string">"style"</span>: <span class="literal">true</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]]]</span><br><span class="line">    &#125;</span><br><span class="line"> <span class="comment">//3.修改main.js</span></span><br><span class="line"> <span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"> <span class="comment">//按需导入button</span></span><br><span class="line"> <span class="keyword">import</span> &#123; Button&#125; <span class="keyword">from</span> <span class="string">'mint-ui'</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">import</span> <span class="string">'mint-ui/lib/style.css'</span></span><br><span class="line"> <span class="keyword">import</span> <span class="string">'bootstrap/dist/css/bootstrap.css'</span></span><br><span class="line"> <span class="keyword">import</span> app <span class="keyword">from</span> <span class="string">"./app.vue"</span></span><br><span class="line"> <span class="comment">//注册button</span></span><br><span class="line"> Vue.component(Button.name, Button)</span><br><span class="line"></span><br><span class="line"> <span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">    el: <span class="string">'#app'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">        msg: <span class="string">'123'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    render:<span class="function"><span class="params">e</span>=&gt;</span>e(app)</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">小逸</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://yoursite.com/2019/08/15/WebPack/">http://yoursite.com/2019/08/15/WebPack/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://yoursite.com" target="_blank">小逸的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1588051543473&amp;di=67f191093aa1a813125aa3036b4aaf85&amp;imgtype=0&amp;src=http%3A%2F%2Fimg0.imgtn.bdimg.com%2Fit%2Fu%3D2340366615%2C2853341379%26fm%3D214%26gp%3D0.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/wechat.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="/img/alipay.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2019/09/06/Vue/"><img class="prev_cover lazyload" data-src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1588051991385&amp;di=3dfd224a522abdec49c104c4b80c794d&amp;imgtype=0&amp;src=http%3A%2F%2Fzbjquan.zbjimg.com%2Fforum%2F7niu%2F201809%2F28%2F175317az6j6wxrjsej171j.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Vue</div></div></a></div><div class="next-post pull_right"><a href="/2019/07/26/CSS3/"><img class="next_cover lazyload" data-src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1588051543473&amp;di=67f191093aa1a813125aa3036b4aaf85&amp;imgtype=0&amp;src=http%3A%2F%2Fimg0.imgtn.bdimg.com%2Fit%2Fu%3D2340366615%2C2853341379%26fm%3D214%26gp%3D0.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">CSS3</div></div></a></div></nav></article></main><footer id="footer" style="background-image: url(https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=1210275919,362704680&amp;fm=26&amp;gp=0.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By 小逸</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode fa fa-moon-o" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script></body></html>